create database users_apify;
-- Selecciona la base de datos
-- drop database users_apify;
-- DROP TABLE artists;
 
USE users_apify;

select * from users;

CREATE TABLE users (
    id VARCHAR(300) PRIMARY KEY,
    display_name VARCHAR(255) NOT NULL,
    url_photo VARCHAR(1000)
);
 DROP TABLE songs;

CREATE TABLE songs (
    id_song INT auto_increment PRIMARY KEY,
    id_api_song VARCHAR(100) NOT NULL,
    id_user VARCHAR(300) NOT NULL,
    FOREIGN KEY (id_user) REFERENCES users (id)
);

CREATE TABLE artists(
	id_artist INT auto_increment PRIMARY KEY,
    id_api_artist VARCHAR(100) NOT NULL,
    id_user VARCHAR(300) NOT NULL,
    FOREIGN KEY (id_user) REFERENCES users (id)
);

CREATE TABLE friends(
id_friend INT auto_increment PRIMARY KEY,
first_user_id VARCHAR (300) NOT NULL,
FOREIGN KEY (first_user_id) REFERENCES users (id),
second_user_id VARCHAR (300) NOT NULL,
FOREIGN KEY (second_user_id) REFERENCES users (id)
);

CREATE TABLE leaderboard(
id_leaderboard INT AUTO_INCREMENT PRIMARY KEY,
id_user VARCHAR(300) NOT NULL,
FOREIGN KEY (id_user) REFERENCES users (id),
points INT NOT NULL
);

-- Insertar datos en la tabla "users"
INSERT INTO users (id, display_name, url_photo)
VALUES
    ('user1', 'Usuario 1', 'http://example.com/photo1.jpg'),
    ('user2', 'Usuario 2', 'http://example.com/photo2.jpg'),
    ('user3', 'Usuario 3', 'http://example.com/photo3.jpg');

-- Insertar datos en la tabla "songs" relacionados con usuarios
INSERT INTO songs (id_song, id_api_song, id_user)
VALUES
    (1, 'Canción 1', 'user1'),
    (2, 'Canción 2', 'user1'),
    (3, 'Canción 3', 'user2'),
    (4, 'Canción 4', 'user3');

-- Insertar el primer artista
INSERT INTO artists (id_artist, id_api_artist, id_user) 
VALUES 
(1, 'ID_API_Artista_1', 'user2'),
(2, 'ID_API_Artista_2', 'user3');

-- Insertar una amistad entre usuario 1 y usuario 2
INSERT INTO friends (first_user_id, second_user_id) 
VALUES 
('user1', 'user2'),
('user2', 'user3');

-- Agregar la primera puntuación
INSERT INTO leaderboard (id_user, points) 
VALUES ('user3', 100),
('user2', 150),
('user1', 80);

select * from users;
select * from songs;
select * from artists;
DELETE FROM users WHERE id = 'francoguidi1235';
DELETE FROM users WHERE id = 'kevintolosa2000';
